!function(e,r,t,n,a){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof s.parcelRequired7c6&&s.parcelRequired7c6,i=o.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(r,t){if(!i[r]){if(!e[r]){var n="function"==typeof s.parcelRequired7c6&&s.parcelRequired7c6;if(!t&&n)return n(r,!0);if(o)return o(r,!0);if(c&&"string"==typeof r)return c(r);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}u.resolve=function(t){var n=e[r][1][t];return null!=n?n:t},u.cache={};var d=i[r]=new l.Module(r);e[r][0].call(d.exports,u,d,d.exports,this)}return i[r].exports;function u(e){var r=u.resolve(e);return!1===r?{}:l(r)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=i,l.parent=o,l.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]},Object.defineProperty(l,"root",{get:function(){return s.parcelRequired7c6}}),s.parcelRequired7c6=l;for(var d=0;d<r.length;d++)l(r[d]);var u=l(t);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define((function(){return u}))}({"7zcRT":[function(e,r,t){e("./js/loader.js"),e("./js/form.js"),e("./js/filter"),e("./js/modal-registration.js"),e("./js/homeRendering.js"),e("./js/apiServiсe.js"),e("./js/scroll.js"),e("./js/modal-footer.js"),e("./js/popup-modal"),e("./js/theme"),e("./js/auth.js")},{"./js/loader.js":"2vm7i","./js/form.js":"9svCR","./js/filter":"jjive","./js/modal-registration.js":"1nJfh","./js/homeRendering.js":"6Uvw0","./js/apiServiсe.js":"7TFaD","./js/scroll.js":"NzJlw","./js/modal-footer.js":"aYyaN","./js/popup-modal":"jtsLp","./js/theme":"2BIky","./js/auth.js":"6SURF"}],jjive:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),a=e("@swc/helpers/lib/_async_to_generator.js"),s=n.interopDefault(a),o=e("@swc/helpers/lib/_sliced_to_array.js"),i=n.interopDefault(o),c=e("regenerator-runtime"),l=n.interopDefault(c),d=e("./genres"),u=e("./refs"),f=e("./renderCard"),p=e("./getGenreName"),v=e("notiflix"),m=n.interopDefault(v),h=e("./apiServiсe"),g=new(0,n.interopDefault(h).default),_=d.genres;function y(){return j.apply(this,arguments)}function j(){return(j=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.refs.mainSection.innerHTML="",e.prev=1,u.refs.loader.classList.remove("hidden"),e.next=5,g.getMoviesByGenres();case 5:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),u.refs.loader.classList.add("hidden"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:E();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function w(){return(w=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.refs.mainSection.innerHTML="",e.prev=1,u.refs.loader.classList.remove("hidden"),e.next=5,g.getMoviesByPopularity();case 5:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),u.refs.loader.classList.add("hidden"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:N();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function b(){return(b=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.refs.mainSection.innerHTML="",e.prev=1,u.refs.loader.classList.remove("hidden"),e.next=5,g.getMoviesByYear();case 5:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),u.refs.loader.classList.add("hidden"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:C();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function L(){return(L=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.currentPage+=1,e.prev=1,e.next=4,g.getMoviesByGenres();case 4:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:E();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function x(){return(x=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.currentPage+=1,e.prev=1,e.next=4,g.getMoviesByPopularity();case 4:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:N();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function k(){return(k=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.currentPage+=1,e.prev=1,e.next=4,g.getMoviesByYear();case 4:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:C();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}u.refs.formEl.addEventListener("change",(function(e){var r=e.target;if(e.preventDefault(),g.currentPage=1,"years"===r.id&&"year"!==r.value&&(u.refs.loader.classList.remove("hidden"),m.default.Notify.success("Congratulations! found movies for ".concat(r.value," year!")),g.year=r.value,function(){b.apply(this,arguments)}(),u.refs.loader.classList.remove("hidden")),"genres"===r.id&&"genres"!==r.value){u.refs.loader.classList.remove("hidden"),m.default.Notify.success("Congratulations! found movies by genre ".concat(r.value,"!"));var t=!0,n=!1,a=void 0;try{for(var s,o=_[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var i=s.value;i.name===r.value&&(g.genreId=i.id,y())}}catch(e){n=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}u.refs.loader.classList.remove("hidden")}"popularity"===r.id&&"option"!==r.value&&(u.refs.loader.classList.remove("hidden"),m.default.Notify.success("Congratulations! found the most popular movies!"),g.popularity=r.value,function(){w.apply(this,arguments)}(),u.refs.loader.classList.remove("hidden"))})),u.refs.searchBtnOpen.addEventListener("click",(function(){u.refs.searchBackdrop.classList.add("is-open")})),u.refs.searchBtnClose.addEventListener("click",(function(){u.refs.searchBackdrop.classList.remove("is-open")}));var S=new IntersectionObserver((function(e,r){var t=(0,i.default)(e,1)[0];t.isIntersecting&&(r.unobserve(t.target),function(){L.apply(this,arguments)}())}),{threshold:.5}),E=function(){var e=document.querySelector(".card__item:last-child");e&&S.observe(e)},T=new IntersectionObserver((function(e,r){var t=(0,i.default)(e,1)[0];t.isIntersecting&&(r.unobserve(t.target),function(){x.apply(this,arguments)}())}),{threshold:.5}),N=function(){var e=document.querySelector(".card__item:last-child");e&&T.observe(e)},q=new IntersectionObserver((function(e,r){var t=(0,i.default)(e,1)[0];t.isIntersecting&&(r.unobserve(t.target),function(){k.apply(this,arguments)}())}),{threshold:.5}),C=function(){var e=document.querySelector(".card__item:last-child");e&&q.observe(e)}},{"@swc/helpers/lib/_async_to_generator.js":"9wsRk","@swc/helpers/lib/_sliced_to_array.js":"lhcPt","regenerator-runtime":"3PvxL","./genres":"hoZ5y","./refs":"8aKlE","./renderCard":"8E5C5","./getGenreName":"8vaK9",notiflix:"fQTvO","./apiServiсe":"7TFaD","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],hoZ5y:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"genres",(function(){return o}));var a,s=e("./refs"),o=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];a=o.map((function(e){var r=e.name;return'<option value="'.concat(r,'">').concat(r,"</option>")})).join(""),s.refs.searchGenreEl.insertAdjacentHTML("beforeend",a)},{"./refs":"8aKlE","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"6Uvw0":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),a=e("@swc/helpers/lib/_async_to_generator.js"),s=n.interopDefault(a),o=e("@swc/helpers/lib/_sliced_to_array.js"),i=n.interopDefault(o),c=e("regenerator-runtime"),l=n.interopDefault(c),d=e("./apiServiсe"),u=n.interopDefault(d),f=e("./renderCard"),p=e("./getGenreName"),v=e("./refs"),m=new(0,u.default);function h(e){return g.apply(this,arguments)}function g(){return(g=(0,s.default)(l.default.mark((function e(r){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),v.refs.searchForm.firstElementChild.value="",m.currentPage=1,v.refs.mainSection.innerHTML="",e.prev=4,v.refs.loader.classList.remove("hidden"),e.next=8,m.getTrendingFilms();case 8:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),v.refs.loader.classList.add("hidden"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("error");case 16:j();case 17:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function _(){return(_=(0,s.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.currentPage+=1,e.prev=1,e.next=4,m.getTrendingFilms();case 4:e.sent.data.results.forEach((function(e){var r=e.title,t=e.name,n=e.poster_path,a=e.id,s=e.vote_average,o=e.genre_ids,i=e.first_air_date,c=e.release_date,l=(0,p.getGenreName)(o);(0,f.renderCard)(a,n,r,t,l,i,c,s)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error");case 11:j();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}v.refs.logoLink.addEventListener("click",h),v.refs.homeBtn.addEventListener("click",h),window.addEventListener("load",h);var y=new IntersectionObserver((function(e,r){var t=(0,i.default)(e,1)[0];t.isIntersecting&&(r.unobserve(t.target),function(){_.apply(this,arguments)}())}),{threshold:.5}),j=function(){var e=document.querySelector(".card__item:last-child");e&&y.observe(e)}},{"@swc/helpers/lib/_async_to_generator.js":"9wsRk","@swc/helpers/lib/_sliced_to_array.js":"lhcPt","regenerator-runtime":"3PvxL","./apiServiсe":"7TFaD","./renderCard":"8E5C5","./getGenreName":"8vaK9","./refs":"8aKlE","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],NzJlw:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"onScroll",(function(){return o})),n.export(t,"onToTopBtn",(function(){return i}));var a,s=e("./refs");function o(){var e=window.pageYOffset,r=document.documentElement.clientHeight;e>r&&s.refs.toTopBtn.classList.add("btn-to-top--visible"),e<r&&s.refs.toTopBtn.classList.remove("btn-to-top--visible")}function i(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",o),null===(a=s.refs.toTopBtn)||void 0===a||a.addEventListener("click",i)},{"./refs":"8aKlE","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],jtsLp:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),a=e("@swc/helpers/lib/_async_to_generator.js"),s=n.interopDefault(a),o=e("regenerator-runtime"),i=n.interopDefault(o),c=e("./apiServiсe"),l=n.interopDefault(c),d=e("./renderPopupCard"),u=new(0,l.default);document.querySelector(".section").addEventListener("click",(function(e){var r;if(e.preventDefault(),void 0===(null===(r=e.target.closest(".card__link"))||void 0===r?void 0:r.querySelector(".card__poster")))return;(function(e){return v.apply(this,arguments)})(e.target.closest(".card__link").id).then((function(r){var t,n,a=e.target.closest(".card__link").id,s=JSON.parse(localStorage.getItem(f))||[],o=JSON.parse(localStorage.getItem(p))||[];s.find((function(e){return t=e.id==a})),o.find((function(e){return n=e.id==a}));var i="",c="";i=t?"Remove from watched":"Add to watched",c=n?"Remove from queue":"Add to queue",document.addEventListener("click",(function(e){if(e.target.classList.contains("watched-button")&&e.target.getAttribute("data-id")===a){var t;if(s.find((function(e){return t=e.id==a})),t){var n=s.findIndex((function(e){return e.id==a}));return s.splice(n,1),localStorage.setItem(f,JSON.stringify(s)),t=!1,void(e.target.innerText="Add to watched")}return s.push(r),localStorage.setItem(f,JSON.stringify(s)),t=!0,void(e.target.innerText="Remove to watched")}if(e.target.classList.contains("queque-button")&&e.target.getAttribute("data-id")===a){var i;if(o.find((function(e){return i=e.id==a})),i){var c=o.findIndex((function(e){return e.id==a}));return o.splice(c,1),localStorage.setItem(p,JSON.stringify(o)),i=!1,void(e.target.innerText="Add to queue")}return o.push(r),localStorage.setItem(p,JSON.stringify(o)),i=!0,void(e.target.innerText="Remove from queue")}}));var l=r.title,u=r.name,v=r.poster_path,m=r.id,h=r.vote_average,g=r.vote_count,_=r.popularity,y=r.overview,j=r.genres,w=[];0===j.length?w.push("Unknown"):j.forEach((function(e){return w.push(e.name)}));try{setTimeout((function(){(0,d.renderMovieModal)(l,u,v,m,h,g,_,y,w,i,c)}),100)}catch(e){console.log("error")}}))}));var f="Watched:",p="Queque:";function v(){return(v=(0,s.default)(i.default.mark((function e(r){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getFilmID(r);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=document.querySelector(".modal");function h(e){(e.target.classList.contains("popup")||27===e.keyCode||e.target.classList.contains("popup-button__close"))&&(m.classList.remove("popup"),m.innerHTML="")}null==m||m.addEventListener("click",h),document.addEventListener("keydown",h)},{"@swc/helpers/lib/_async_to_generator.js":"9wsRk","regenerator-runtime":"3PvxL","./apiServiсe":"7TFaD","./renderPopupCard":"aZoq3","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],"2BIky":[function(e,r,t){localStorage.theme||(localStorage.theme="light"),document.body.className=localStorage.theme,toggleThemeBtn.onclick=function(){document.body.classList.toggle("dark")};var n=document.querySelectorAll(".changeTheme");function a(e){n.forEach((function(e){e.style.display="block"})),document.querySelector('[data-theme="'.concat(e,'"]')).style.display="none",localStorage.setItem("theme",e)}n.forEach((function(e){e.addEventListener("click",(function(){a(this.dataset.theme),localStorage.setItem("theme",this.dataset.theme)}))}));var s=localStorage.getItem("theme");null===s||"light"===s?a("light"):"dark"===s&&a("dark")},{}]},["7zcRT"],"7zcRT");
//# sourceMappingURL=index.83df3c74.js.map
